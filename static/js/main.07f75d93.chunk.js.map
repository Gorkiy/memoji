{"version":3,"sources":["components/CardFront.js","components/CardBack.js","components/Card.js","components/TimeLimit.js","utils/gif-api.js","components/GameResults.js","components/App.js","serviceWorker.js","index.js"],"names":["CardFront","matchedStyle","this","props","isMatched","react_default","a","createElement","className","concat","onClick","cardFace","Component","CardBack","Card","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","isFlipped","handleClick","bind","assertThisInitialized","prevProps","exposed","exposedCount","gameEnded","flip","gameStarted","setState","setTimeout","prevState","react_card_flip_default","flipDirection","components_CardFront","key","components_CardBack","TimeLimit","timeLeft","Gif","query","limit","gif","url","fetch","response","json","data","imageNum","getRandomImage","getGIFs","images","img","console","log","alt","gifURL","src","Math","floor","random","GameResults","getGif","onButtonClick","outcome","win","setGifURL","fail","renderOutcome","type","gameConfig","totalCards","cards","timeLimit","App","cardsLeft","faces","shuffle","cardsData","exposedCards","initNewGame","_callee","regenerator_default","wrap","_context","prev","next","getCardsData","sent","getCardComponents","stop","onCardClick","_callee2","card","first","second","_context2","runGame","push","markAsExposed","id","markAsMatched","switchExposed","_callee3","_context3","update","cardFaces","i","length","components_Card","id1","id2","timerId","setInterval","endGame","clearInterval","newData","components_GameResults","components_TimeLimit","Boolean","window","location","hostname","match","ReactDOM","render","components_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.07f75d93.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass CardFront extends Component {\n  render() {\n    const matchedStyle = this.props.isMatched ? \"card_matched\" : \"\";\n    return (\n      <div className={`card card_front ${matchedStyle}`} onClick={this.props.onClick}>\n        {this.props.cardFace}\n      </div>\n    );\n  }\n}\n\nexport default CardFront;","import React, { Component } from 'react';\n\nclass CardBack extends Component {\n  \n  render() {\n    return (\n      <div className=\"card card_back\" onClick={this.props.onClick}>\n      </div>\n    );\n  }\n}\n\nexport default CardBack;","import React, { Component } from 'react';\nimport ReactCardFlip from 'react-card-flip';\nimport CardFront from './CardFront';\nimport CardBack from './CardBack';\n\nclass Card extends Component {\n  constructor(props) {\n    super(props);\n    // this.cardRef = React.createRef();\n    this.state = {\n      isFlipped: false\n    }\n    this.handleClick = this.handleClick.bind(this);\n  }\n  \n  componentDidUpdate(prevProps) {\n    if (this.props.exposed && this.props.exposedCount >= 1 && !this.props.gameEnded) {\n      this.flip();\n    }\n    //Triggers when the \"new game\" button is clicked\n    // Flip back all exposed cards for a new match\n    if (!this.props.gameStarted && this.props.gameEnded && this.state.isFlipped) {\n      this.setState({ isFlipped: false });\n    }\n  }\n  \n  flip() {\n    setTimeout(function() {\n      this.setState(prevState => ({ isFlipped: !prevState.isFlipped }));\n    }.bind(this), 600);\n  }\n  \n  handleClick() {\n    if (!this.state.isFlipped) {\n      this.setState(prevState => ({ isFlipped: !prevState.isFlipped }));\n      this.props.onClick(this);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"game-field__tile\">        \n        <ReactCardFlip isFlipped={this.state.isFlipped} flipDirection=\"horizontal\">\n          <CardFront key=\"back\" onClick={this.handleClick} cardFace={this.props.cardFace} isMatched={this.props.isMatched}/>\n          <CardBack key=\"front\" onClick={this.handleClick} />\n        </ReactCardFlip>\n      </div>\n    );\n  }\n}\n\nexport default Card;","import React, { Component } from 'react';\n\nclass TimeLimit extends Component {\n  render() {\n    return (\n      <div className=\"time-limit\">\n        {this.props.timeLeft}\n      </div>\n    );\n  }\n}\n\nexport default TimeLimit;","const API = 'Gg8myGJJ00rKTsHqkNwPNlmZsV92EHJB';\nconst searchURL = 'http://api.giphy.com/v1/gifs/search?q=';\n\nclass Gif {\n  constructor(query, limit) {\n    this.query = query;\n    this.limit = limit;\n    this.gif = null\n  }\n  \n  async getGIFs(query, limit) {\n    const url = searchURL + this.query + '&api_key=' + API + '&limit=' + this.limit;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data['data'];\n  }\n  \n  async setGifURL() {\n    const imageNum = this.getRandomImage();\n    const images = await this.getGIFs(this.query, this.limit);\n    \n    const img = images[imageNum];\n    console.log(img);\n    const url = img['images']['original']['url'];\n    const alt = img['title'];\n    \n    this.gifURL = url;\n    this.gif = {\n      src: url,\n      alt: alt\n    }\n  }\n  \n  getRandomImage() {\n    return Math.floor(this.limit * Math.random());\n  }\n  \n}\n\nexport default Gif;","import React, { Component } from 'react';\nimport Gif from '../utils/gif-api';\n\nclass GameResults extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gameEnded: false,\n      gif: {\n        src: '',\n        alt: ''\n      }\n    }\n    this.handleClick = this.handleClick.bind(this);\n  }\n  \n  componentDidUpdate(prevProps) {\n    if (prevProps.gameEnded !== this.props.gameEnded && this.props.gameEnded === true) {\n      this.setState({ gameEnded: true })\n    }\n    \n    if (this.state.gameEnded) {\n      this.getGif();\n      this.setState({ gameEnded: false })\n    }\n  }\n  \n  handleClick() {\n    this.props.onButtonClick();\n  }\n  \n  renderOutcome() {\n    if (this.props.outcome === 'win' ) {\n      return 'Epic Win!';\n    }\n    \n    if (this.props.outcome === 'lose' ) {\n      return 'Not Epic Win :(';\n    }\n  }\n  \n  async getGif() {\n    let url = '';\n    let alt = '';\n    if (this.props.outcome === 'win' ) {\n      const win = new Gif('win', 10);\n      await win.setGifURL();\n      url = win.gif.src;\n      alt = win.gif.alt;\n    }\n    \n    if (this.props.outcome === 'lose' ) {\n      const fail = new Gif('fail', 10);\n      await fail.setGifURL();\n      url = fail.gif.src;\n      alt = fail.gif.alt;\n    }\n    console.log(url);\n    console.log(alt);\n    \n    this.setState({ gif: {\n      src: url,\n      alt: alt\n    }});\n  }\n  \n  render() {\n    const matchedStyle = this.props.gameEnded ? \"modal_show\" : \"\";\n    \n    return (\n      <div className={`modal ${matchedStyle}`}>\n        <div className=\"game-results\">\n          <h2 className=\"game-results__title\">{this.renderOutcome()}</h2>\n          <div className=\"game-results__gif\"><img src={this.state.gif.src} alt={this.state.gif.alt} /></div>\n          <button className=\"game-results__button\" type=\"button\" onClick={this.handleClick}>New Game\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default GameResults;","import React, { Component } from 'react';\nimport { shuffle } from 'lodash';\nimport Card from './Card';\nimport TimeLimit from './TimeLimit';\nimport GameResults from './GameResults';\n\nconst gameConfig = {\n  totalCards: 12,\n  cards: ['ðŸ¶', 'ðŸ¶', 'ðŸ±', 'ðŸ±', 'ðŸ­', 'ðŸ­', 'ðŸ¹', 'ðŸ¹', 'ðŸ°', 'ðŸ°', 'ðŸ»', 'ðŸ»'],\n  timeLimit: 20\n}\n\nclass App extends Component {\n  state = { \n    gameStarted: false,\n    gameEnded: false,\n    cardsLeft: gameConfig.totalCards,\n    timeLeft: gameConfig.timeLimit,\n    faces: shuffle(gameConfig.cards),\n    cardsData: {},\n    cards: [],\n    exposedCount: 0,\n    exposedCards: [],\n    outcome: ''\n  };\n  \n  componentDidMount() {\n    this.initNewGame();\n  }\n  \n  initNewGame = async () => {\n    this.setState({ gameStarted: false });\n    this.setState({ gameEnded: false });\n    this.setState({ outcome: '' });\n    this.setState({ timeLeft: gameConfig.timeLimit });\n    this.setState({ cardsLeft: gameConfig.totalCards });\n    //Generate new data\n    this.setState({ faces: shuffle(gameConfig.cards) });\n    const data = await this.getCardsData(this.state.faces);\n    this.setState({ cardsData: data });\n    this.setState( { cards: this.getCardComponents(data) });\n  }\n  \n  getCardsData(cardFaces) {\n    let data = {};\n    for (let i = 0; i < cardFaces.length; i++) {\n      data[i] = {\n        id: i,\n        cardFace: cardFaces[i],\n        isMatched: false,\n        exposed: false\n      }\n    }\n    return data;\n  }\n  \n  getCardComponents(data) {\n    let cards = [];\n    for (let key in data) {\n      let card = data[key];\n      cards.push(<Card \n        key={card.id} \n        id={card.id} \n        cardFace={card.cardFace} \n        isMatched={card.isMatched} \n        exposed={card.exposed} \n        onClick={this.onCardClick}\n        exposedCount={this.state.exposedCount}\n        gameStarted={this.state.gameStarted}\n        gameEnded={this.state.gameEnded}\n      />);\n    }\n    return cards;\n  }\n  \n  markAsMatched(id1, id2) {\n    const data = this.state.cardsData;\n    data[id1]['isMatched'] = true;\n    data[id2]['isMatched'] = true;\n    this.setState({ cardsLeft: this.state.cardsLeft - 2 });\n    this.update(data);\n  }\n  \n  markAsExposed(id) {\n    const data = this.state.cardsData;\n    data[id]['exposed'] = true;\n    this.update(data);\n  }\n  \n  switchExposed(id1, id2) {\n    const data = this.state.cardsData;\n    data[id1]['exposed'] = !data[id1]['exposed'];\n    data[id2]['exposed'] = !data[id2]['exposed'];\n    this.update(data);\n  }\n  \n  runGame() {\n    this.setState({ gameStarted: true });\n    const timerId = setInterval(function() {\n      this.setState({ timeLeft: this.state.timeLeft - 1 });\n      if (this.state.timeLeft <= 0 || this.state.cardsLeft === 0) {\n        this.endGame();\n        clearInterval(timerId);\n      }\n    }.bind(this), 1000);\n  }\n  \n  endGame() {\n    if (this.state.cardsLeft === 0) {\n      this.setState({ outcome: 'win' });\n    } else {\n      this.setState({ outcome: 'lose' });\n    }\n    \n    this.setState({ gameEnded: true });\n    this.setState({ exposedCount: 0 });\n    this.setState({ exposedCards: [] });\n    this.update(this.state.cardsData);\n  }\n  \n  async update(data) {\n    const newData = await this.getCardComponents(data);\n    this.setState( { cards: newData });\n  }\n  \n  onCardClick = async (card) => {\n    if (!this.state.gameStarted && !this.state.gameEnded) {\n      await this.runGame();\n    }\n    \n    this.state.exposedCards.push(card);\n    this.markAsExposed(card.props.id);\n    await this.setState({ exposedCount: this.state.exposedCount + 1 });\n    //Compare exposed cards and check for a match\n    if (this.state.exposedCount === 2) {\n      let first = this.state.exposedCards[0];\n      let second = this.state.exposedCards[1];\n      if (first.props.cardFace === second.props.cardFace)  {\n        this.markAsMatched(first.props.id, second.props.id);\n      } else {\n        this.switchExposed(first.props.id, second.props.id);\n      }\n      this.setState({ exposedCount: 0, exposedCards: [] });\n    }\n  }\n  \n  onButtonClick = async (card) => {\n    //Wait for update in order to flip back exposed cards in previous match\n    await this.setState({ gameStarted: false });\n    await this.update(this.state.cardsData);\n    //Wait for smooth card faces change\n    setTimeout(function() {\n      this.initNewGame();\n    }.bind(this), 200);\n  }\n\n  render() {\n    return (\n      <div>\n        <h1 className=\"game-name\">Memoji</h1>\n        <GameResults gameEnded={this.state.gameEnded} outcome={this.state.outcome} onButtonClick={this.onButtonClick}/>\n        <div className=\"game-field\">\n          {this.state.cards}\n        </div>\n        <TimeLimit gameStarted={this.state.gameStarted} timeLeft={this.state.timeLeft}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}